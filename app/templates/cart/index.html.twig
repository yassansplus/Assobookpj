{% extends 'base_connected.html.twig' %}

{% block title %} Carte interactive {% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags("carte") }}
{% endblock %}

{% block body %}

    <h3 style="padding: 15px 15px 15px 15px">Liste des associations les plus proches de vous</h3>

    <div class="container-cart">
        <div class="list">
            {% for key,assoc in associations %}
            <div class="d-none association js-marker" data-lat="{{ assoc.address.latitude }}" data-lng=" {{ assoc.address.longitude }}" data-name="{{ assoc.name }}" data-assoc="{{ assoc.address.street }}, {{ assoc.address.city }}, {{ assoc.address.region }}" data-id="{{ assoc.id }}">
                <img src="https://via.placeholder.com/400x260" alt="">
                <h4>
                    <a href="" class="link-assoc" id="link-assoc">
                        {{ assoc.name }}
                    </a>
                </h4>
                <p>{{ assoc.address.street }}, {{ assoc.address.city }}, {{ assoc.address.region }}</p>
            </div>
            {% endfor %}
        </div>
        <div class="map" id="mapid"></div>
    </div>
{% endblock %}

{% block javascripts %}

    {{ parent() }}
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin="">
    </script>
    {{ encore_entry_script_tags("cart") }}
{% endblock %}
